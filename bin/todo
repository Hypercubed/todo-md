#!/usr/bin/env node

// Node.js
var path            = require('path');
var fs              = require('fs');

// Local
var todo = require("../lib/todo.js");

var program  = require('commander');

require('autocmdr/lib/package.js')(program);
require('autocmdr/lib/logger.js')(program);
require('autocmdr/lib/loader.js')(program);

program.loadCmds(path.join(__dirname,'../cmds/'));

program
	.option('-g, --global', "use global task list")
	.once('global', function() {
		// Set global list
	});

program
	.on('*', function(name) { 
		program.logger.log('warn', '\''+name+'\' is not a known command. See \''+program._name+' --help\'.');
	});

program.parse(process.argv);

//console.log(autocmdr);

if (program.args.length < 1 )
	program.parse(['', '', 'list']);
	//autocmdr.emit('list', [autocmdr]);