#!/usr/bin/env node

// Node.js
var path            = require('path');
var fs              = require('fs');

// Local
var todo = require("../lib/todo.js");
var pkg             = require('../package.json');

var autocmdr  = require('autocmdr');

console.log(require('autocmdr/cmds/cp')(autocmdr));

autocmdr._name = "todo-md";

autocmdr
	//.name('test')
	.usage('[options] <cmd>')
	.version(pkg.version)
	.description('')
	.loadCmds(path.join(__dirname,'../cmds/'));

autocmdr
	.option('-g, --global', "use global autocmdr tasks")
	.once('global', function() {
		// Set global list
	});

autocmdr
	.on('*', function(name) { 
		autocmdr.logger.log('warn', '\''+name+'\' is not a known command. See \''+autocmdr._name+' --help\'.');
	});

autocmdr
	.on('--help', function(){
	  console.log('  Bug reports, suggestions, updates:');
	  console.log('  ', pkg.bugs.url);
	});

autocmdr.parse();

//console.log(autocmdr);

if (autocmdr.args.length < 1 )
	autocmdr.parse(['', '', 'list']);
	//autocmdr.emit('list', [autocmdr]);